This package contains the FastTensor, a new version of ArrayUDF from the project SDS (Scientific Data Services) framework. 
See copyright at the end. 


1, Required software packages:

```
   Note:
          1), Install MPICH2 before HDF5 to enable the parallel I/O in HDF5
          2), add mpicc/mpicxx/mpirun from MPICH2 installation to your PATH
          3), add h5dump from HDF5 installation to your PATH
	  
   -- MPICH2 from http://www.mpich.org/ 
      (tested version: http://www.mpich.org/static/downloads/3.2/mpich-3.2.tar.gz)
   -- HDF5 from https://www.hdfgroup.org/
       https://www.hdfgroup.org/downloads/hdf5/source-code/

   -- DASH from  https://github.com/dash-project/dash/   
```

2, HDF5

```
 > cd tools3rd
 > tar zxvf hdf5-1.12.0.tar.gz
 > cd hdf5-1.12.0
 > ./autogen.sh
 > ./configure --enable-parallel --prefix=$PWD/build CC=mpicc
 >  make install
```

3, DASH

```
 > cd tools3rd
 > tar zxvf dash.tar.gz
   (or git clone https://github.com/dash-project/dash.git )
 > vim build.minimal.sh
   Change 
      -DENABLE_HDF5=OFF 
   To   
      -DENABLE_HDF5=ON
   Your may also need to setup HDF5_ROOT to HDF5 installation directory if DASH can not find HDF5

 > make -C ./build install 
```

4, FastTensor

```
 > ./configure --prefix=$PWD/build --with-hdf5=../hdf5-1.12.0/build/build/ CXX=mpic++ CC=mpicc --with-dash=/Users/dbin/opt/dash-0.4.0/
```

5, Error issue with DASH/C++ compiler:

```
/Users/dbin/opt/dash-0.4.0//include/cpp17/cstddef.h:12:12: error:
      redefinition of 'byte'
enum class byte : unsigned char {};
```

You can resolve it by 

```
  cp dash/cstddef.h ~/opt/dash-0.4.0/include/cpp17/
```


Note on Lawrencium at LBNL


module load gcc/7.4.0 hdf5/1.10.5-gcc-p

HDF5 DIY:
CC=cc ./configure  --enable-parallel --prefix=$PWD/build

export HDF5_BASE=/project/projectdirs/m1248/fasttensor-debug/tools3rd/hdf5-1.12.0/build


Note on Cori at NERSC

To install DASH:

```
module switch PrgEnv-intel PrgEnv-gnu
module load cray-hdf5-parallel
export HDF5_BASE=/opt/cray/pe/hdf5-parallel/1.10.5.2/GNU/8.2

```

Error:

usr/bin/ld: /opt/cray/pe/hdf5-parallel/1.10.5.2/GNU/8.2/lib/libhdf5.a(H5PLint.o): undefined reference to symbol 'dlclose@@GLIBC_2.2.5'

edit CMakeExt/HDF5.cmake to add -ldl


CXX=CC  ./configure  --prefix=$PWD/build --with-dash=/project/projectdirs/m1248/fasttensor/tools3rd/dash/install --with-hdf5=/opt/cray/pe/hdf5-parallel/1.10.5.2/GNU/8.2
